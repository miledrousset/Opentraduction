<ui:composition 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">

    <section id="about" class="pricing about section">

        <p:staticMessage severity="warn" summary="#{applicationBean.getLabel('user.settings.attention')}"
                         detail="#{applicationBean.getLabel('application.user.error.msg2')}"
                         rendered="#{userSettingsBean.userApiKeyAlert}"
                         style="width: 100%; margin-bottom: 20px"/>

        <p:staticMessage severity="warn" summary="#{applicationBean.getLabel('user.settings.attention')}"
                         detail="#{applicationBean.getLabel('application.user.error.msg3')}"
                         rendered="#{userSettingsBean.referenceProjetAlert}"
                         style="width: 100%; margin-bottom: 20px"/>

        <div class="container section-title" data-aos="fade-up">
            <h2><h:outputText value="#{applicationBean.getLabel('user.settings.title')}"/></h2>
        </div>

        <h:form id="userInformations">
            <div class="pricing-item featured php-email-form" style="text-align: left">
                <div class="col-xl-12 content">
                    <h3><h:outputText value="#{applicationBean.getLabel('user.settings.informations')}"/></h3>
                </div>

                <div class="row">
                    <div class="field col-2" style="display: flex; align-items: center;">
                        <h:outputText value="#{applicationBean.getLabel('user.settings.firstname')}"/>
                    </div>
                    <div class="field col-10">
                        <p:inputText value="#{userSettingsBean.userConnected.firstName}" class="form-control" style="width: 100%"/>
                    </div>
                </div>

                <div class="row" style="margin-top: 10px">
                    <div class="field col-2" style="display: flex; align-items: center;">
                        <h:outputText value="#{applicationBean.getLabel('user.settings.name')}"/>
                    </div>
                    <div class="field col-10">
                        <p:inputText value="#{userSettingsBean.userConnected.lastName}" class="form-control" style="width: 100%"/>
                    </div>
                </div>

                <div class="row" style="margin-top: 10px">
                    <div class="field col-2" style="display: flex; align-items: center;">
                        <h:outputText value="#{applicationBean.getLabel('user.settings.mail')}"/>
                    </div>
                    <div class="field col-10">
                        <p:inputText value="#{userSettingsBean.userConnected.mail}" class="form-control" style="width: 100%"/>
                    </div>
                </div>

                <div class="row" style="margin-top: 10px">
                    <div class="field col-2" style="display: flex; align-items: center;">
                        <h:outputText value="#{applicationBean.getLabel('user.settings.login')}"/>
                    </div>
                    <div class="field col-10">
                        <p:inputText value="#{userSettingsBean.userConnected.login}" class="form-control" style="width: 100%"/>
                    </div>
                </div>

                <div class="row" style="margin-top: 10px">
                    <div class="field col-2" style="display: flex; align-items: center;">
                        <h:outputText value="#{applicationBean.getLabel('user.settings.password')}"/>
                    </div>
                    <div class="field col-10">
                        <p:password value="#{userSettingsBean.userConnected.password}"
                                    feedback="true" toggleMask="true" redisplay="true"
                                    promptLabel="#{applicationBean.getLabel('user.settings.password.message')}"
                                    weakLabel="#{applicationBean.getLabel('user.settings.password.weak')}"
                                    goodLabel="#{applicationBean.getLabel('user.settings.password.good')}"
                                    strongLabel="#{applicationBean.getLabel('user.settings.password.strong')}"
                                    style="width: 100%" class="form-control" />
                    </div>
                </div>

                <div class="row" style="margin-top: 10px">
                    <div class="field col-2" style="display: flex; align-items: center;">
                        <h:outputText value="#{applicationBean.getLabel('application.user.default.traduction')}"/>
                    </div>
                    <div class="field col-10">
                        <p:selectOneMenu value="#{userSettingsBean.userConnected.defaultTargetTraduction}" class="form-control" >
                            <f:selectItem itemLabel="#{userSettingsBean.arabeLabel}" itemValue="FrancaisArabe"/>
                            <f:selectItem itemLabel="#{userSettingsBean.francaisLabel}" itemValue="ArabeFrancais"/>
                        </p:selectOneMenu>
                    </div>
                </div>

                <div class="row" style="margin-top: 10px">
                    <div class="field col-2" style="display: flex; align-items: center;">
                        <h:outputText value="#{applicationBean.getLabel('user.settings.user_key')}"/>
                    </div>
                    <div class="field col-10">
                        <p:inputText value="#{userSettingsBean.userConnected.apiKey}" class="form-control" style="width: 100%"/>
                    </div>
                </div>

                <div class="row" style="margin-top: 10px">
                    <div class="field col-2" style="display: flex; align-items: center;">
                        <h:outputText value="#{applicationBean.getLabel('user.settings.group')}"/>
                    </div>
                    <div class="field col-10">
                        <p:tag styleClass="mr-2" value="#{userSettingsBean.userConnected.group.name}"
                               style="background: rgba(0, 0, 0, 0.58)" />
                    </div>
                </div>

                <div class="row" style="margin-top: 10px;">
                    <div class="field col-12" style=" text-align: right">
                        <h:outputText value="#{userSettingsBean.getUserAudit()}" style="font-style: italic; font-size: smaller; color: #BCBAB9" />
                    </div>
                </div>

                <div class="row" style="margin-top: 10px;">
                    <div class="field col-12" style=" text-align: right">
                        <p:commandButton title="#{applicationBean.getLabel('user.settings.save')}"
                                         ajax="true" process="@form"
                                         action="#{userSettingsBean.saveUserInformations()}"
                                         class="btn-getstarted"
                                         update="mainContent"/>
                    </div>
                </div>
            </div>
        </h:form>
    </section>
</ui:composition>
