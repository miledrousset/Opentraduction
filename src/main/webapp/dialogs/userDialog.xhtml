<ui:composition 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">

    <p:dialog id="userForm" header="#{applicationSettingBean.dialogTitle}" widgetVar="userDialog" minHeight="40"
              width="350" showEffect="fade" modal="true" resizable="true">

        <h:form>
            <div class="row">
                <div class="field col-12 md:col-4">
                    <p:outputLabel for="firstname" value="Prénom"/>
                    <p:inputText id="firstname" class="form-control" placeholder="Prénom"
                                 value="#{applicationSettingBean.userSelected.firstName}"/>
                </div>
            </div>

            <div class="row">
                <div class="field col-12 md:col-4" style="margin-top: 10px">
                    <p:outputLabel for="lastname" value="Nom"/>
                    <p:inputText id="lastname" class="form-control" laceholder="Nom"
                                 value="#{applicationSettingBean.userSelected.lastName}" />
                </div>
            </div>

            <div class="row">
                <div class="field col-12 md:col-4" style="margin-top: 10px">
                    <p:outputLabel for="email" value="E-mail"/>
                    <p:inputText id="email" class="form-control" placeholder="E-mail"
                                 value="#{applicationSettingBean.userSelected.mail}"/>
                </div>
            </div>

            <div class="row">
                <div class="field col-12 md:col-4" style="margin-top: 10px">
                    <p:outputLabel for="login" value="Login"/>
                    <p:inputText id="login" class="form-control" placeholder="Login"
                                 value="#{applicationSettingBean.userSelected.login}"/>
                </div>
            </div>

            <div class="row">
                <div class="field col-12 md:col-4" style="margin-top: 10px">
                    <p:outputLabel for="password" value="Mot de passe"/>
                    <p:inputText id="password" class="form-control" placeholder="Password"
                                value="#{applicationSettingBean.userSelected.password}" />
                </div>
            </div>

            <div class="field col-12 md:col-4" style="margin-top: 10px">
                <p:outputLabel value="Groupe"/>
                <p:selectOneMenu value="#{applicationSettingBean.idGroupSelected}" class="form-control"
                                 required="true" label="tableId" appendTo="@this" >
                    <f:selectItems value="#{groupsSettingBean.groups}" var="group"
                                   itemLabel="#{group.name}" itemValue="#{group.id}"/>
                </p:selectOneMenu>
            </div>

            <div class="row">
                <div class="field col-12 md:col-4" style="margin-top: 10px">
                    <h5><p:outputLabel for="admin" value="Admin"/></h5>
                    <p:toggleSwitch id="admin" onIcon="pi pi-check" offIcon="pi pi-times"
                                    value="#{applicationSettingBean.userSelected.admin}"/>
                </div>
            </div>

            <div class="row">
                <div class="field col-12 md:col-4" style="margin-top: 10px">
                    <h5><p:outputLabel for="active" value="Active"/></h5>
                    <p:toggleSwitch id="active" onIcon="pi pi-check" offIcon="pi pi-times"
                                    value="#{applicationSettingBean.userSelected.active}"/>
                </div>
            </div>

            <div style="width: 100%; text-align: right; margin-top: 15px; margin-bottom: 2px;">
                <p:commandButton value="#{msg['action.annuler']}" styleClass="ui-button-secondary ui-button-flat"
                                 action="PF('userDialog').hide();"
                                 ajax="true" process="@this" update=":mainContent:usersList"/>

                <p:commandButton title="Valider"
                                 action="#{applicationSettingBean.userManagement()}"
                                 class="btn-getstarted" ajax="true" process="@form"
                                 update=":mainContent:usersList"/>
            </div>
        </h:form>
    </p:dialog>
</ui:composition>
