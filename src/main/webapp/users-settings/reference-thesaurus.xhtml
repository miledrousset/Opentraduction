<ui:composition 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">

    <section id="about" class="pricing about section">
        <div class="pricing-item featured php-email-form" style="text-align: left">

            <div class="col-xl-12 content">
                <h3><h:outputText value="#{msg['user.settings.reference_thesaurus.title']}"/></h3>
            </div>

            <h:form>
                <div class="row">
                    <div class="field col-2" style="display: flex; align-items: center">
                        <h:outputText value="#{msg['user.settings.instance_label']}" />
                    </div>
                    <div class="field col-10" style="display: flex; align-items: center;">
                        <a href="#{userSettingsBean.getThesaurusReferenceUrl()}" target="_blank">
                            <p:tag styleClass="mr-2" value="#{userSettingsBean.userConnected.group.referenceInstances.name}"
                                   style="background: rgba(0, 0, 0, 0.58)" />
                        </a>
                    </div>
                </div>

                <div class="row" style="margin-top: 20px">
                    <div class="field col-2" style="display: flex; align-items: center">
                        <h:outputText value="#{msg['user.settings.thesaurus']}" />
                    </div>
                    <div class="field col-10" style="display: flex; align-items: center;">
                        <a href="#{userSettingsBean.getThesaurusReferenceUrl()}" target="_blank">
                            <h:outputText value="#{userSettingsBean.userConnected.group.referenceInstances.thesaurus.name}" />
                        </a>
                    </div>
                </div>

                <div class="row" style="margin-top: 20px">
                    <div class="field col-2" style="display: flex; align-items: center">
                        <h:outputText value="#{msg['user.settings.subCollection']}" />
                    </div>
                    <div class="field col-10" style="display: flex; align-items: center;">
                        <h:outputText value="#{userSettingsBean.userConnected.group.referenceInstances.thesaurus.collection}" />
                    </div>
                </div>

                <div class="row" style="margin-top: 20px">
                    <div class="field col-2" style="display: flex; align-items: center">
                        <h:outputText value="#{msg['user.settings.subCollection']}" />
                    </div>
                    <div class="field col-10">
                        <p:selectOneMenu value="#{userSettingsBean.idReferenceCollectionSelected}"
                                         class="form-control" style="width: 100%;">
                            <p:ajax event="change" listener="#{userSettingsBean.setSelectedReferenceCollection()}"/>
                            <f:selectItems value="#{userSettingsBean.referenceCollectionList}" var="collection"
                                           itemLabel="#{collection.label}" itemValue="#{collection.id}"/>
                        </p:selectOneMenu>
                    </div>
                </div>

                <div class="row" style="margin-top: 10px;">
                    <div class="field col-12" style=" text-align: right">
                        <h:outputText value="#{userSettingsBean.getUserAudit()}" style="font-style: italic; font-size: smaller; color: #BCBAB9" />
                    </div>
                </div>

                <div class="row" style="margin-top: 10px;">
                    <div class="field col-12" style=" text-align: right">
                        <p:commandButton title="#{msg['user.settings.save']}"
                                         ajax="true" process="@form"
                                         action="#{userSettingsBean.saveCollectionReference()}"
                                         class="btn-getstarted"
                                         update="userInformations"/>
                    </div>
                </div>
            </h:form>
        </div>
    </section>

</ui:composition>
